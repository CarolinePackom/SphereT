(self.webpackChunksp_t3=self.webpackChunksp_t3||[]).push([[663],{593:function(e,t,i){"use strict";i.r(t),i.d(t,{HoverList:function(){return v}});var r=i(642),n=i(255),a=i(57);function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,i){return t&&u(e.prototype,t),i&&u(e,i),e}var h={x:0,y:0},p=h,m=(p.x,h.x,p.y,h.y,0),v=function(){function i(e,t){l(this,i),this.app=t,this.selector=e,this.animatableProperties={tx:{previous:0,current:0,amt:.08},ty:{previous:0,current:0,amt:.08},skew:{previous:0,current:0,amt:.04},contrast:{previous:1,current:1,amt:.08}},this.hoverItems=[],this.init()}return c(i,[{key:"init",value:function(){var i=this;debug("call init from hoverlist"),this.DOM={el:document.querySelectorAll(this.selector)},this.DOM.el.forEach(function(e){e.addEventListener("mousemove",function(e){return h=(0,a.M)(e)}),s(e.querySelectorAll(".js-hoverlist-item")).forEach(function(e,t){return i.hoverItems.push(new f(e,t,i.animatableProperties,i.app))})}),this.hoverItems.forEach(function(e){return e._onPageReady()})}}]),i}(),f=function(){function a(e,t,i,r){l(this,a),this.app=r,this.DOM={el:e},this.inListPosition=t,this.animatableProperties=i,e.hasAttribute("data-img")?this.img=e.dataset.img:this.img=e.querySelector(".js-hoverlist-img"),this.layout()}return c(a,[{key:"layout",value:function(){this.DOM.reveal=document.createElement("div"),this.DOM.reveal.className="hover-reveal",this.DOM.revealInner=document.createElement("div"),this.DOM.revealInner.className="hover-reveal__inner",this.DOM.revealImage=document.createElement("div"),this.DOM.revealImage.className="hover-reveal__img aspect-ratio ratio--1-1","string"==typeof this.img||this.DOM.revealImage.appendChild(this.img),this.DOM.revealInner.appendChild(this.DOM.revealImage),this.DOM.reveal.appendChild(this.DOM.revealInner),this.DOM.el.appendChild(this.DOM.reveal)}},{key:"calcBounds",value:function(){this.bounds={el:this.DOM.el.getBoundingClientRect(),reveal:this.DOM.reveal.getBoundingClientRect()}}},{key:"initEvents",value:function(){var t=this;this.mouseenterFn=function(e){t.showImage(),t.firstRAFCycle=!0,t.loopRender()},this.mouseleaveFn=function(){t.stopRendering(),t.hideImage()},this.DOM.el.addEventListener("mouseenter",this.mouseenterFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}},{key:"showImage",value:function(){var e=this;r.p8.killTweensOf(this.DOM.revealInner),r.p8.killTweensOf(this.DOM.revealImage),this.tl=r.p8.timeline({onStart:function(){e.DOM.reveal.style.opacity=e.DOM.revealInner.style.opacity=1,r.p8.set(e.DOM.el,{zIndex:3})}}).to(this.DOM.revealInner,{ease:"Expo.easeOut",startAt:{scaleX:0,filter:"contrast(3)"},scaleX:1,filter:"contrast(1)",duration:.8}).to(this.DOM.revealImage,{ease:"Expo.easeOut",startAt:{scaleX:2},scaleX:1,duration:1.2},0)}},{key:"hideImage",value:function(){var e=this;r.p8.killTweensOf(this.DOM.revealInner),r.p8.killTweensOf(this.DOM.revealImage),this.tl=r.p8.timeline({onStart:function(){r.p8.set(e.DOM.el,{zIndex:1})},onComplete:function(){r.p8.set(e.DOM.reveal,{opacity:0})}}).to(this.DOM.revealInner,{ease:"Expo.easeOut",scaleX:0,opacity:0,duration:.6}).to(this.DOM.revealImage,{ease:"Expo.easeOut",scaleX:2,duration:.6},0)}},{key:"loopRender",value:function(){var e=this;this.requestId||(this.requestId=requestAnimationFrame(function(){return e.render()}))}},{key:"stopRendering",value:function(){this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=void 0)}},{key:"render",value:function(){this.requestId=void 0,this.firstRAFCycle&&this.calcBounds();var e=(0,n.uZ)(Math.abs(p.x-h.x),0,100);m={x:p.x-h.x,y:p.y-h.y},p={x:h.x,y:h.y};var t=this.app.scroll?this.app.scroll.target:this.app.getScrollY();this.animatableProperties.tx.current=Math.abs(h.x-this.bounds.el.left)-this.bounds.reveal.width/2,this.animatableProperties.ty.current=Math.abs(h.y-this.bounds.el.top-t)-this.bounds.reveal.height/2,this.animatableProperties.skew.current=this.firstRAFCycle?0:(0,n.UI)(e,0,80,0,m.x<0?60:-60),this.animatableProperties.contrast.current=this.firstRAFCycle?1:(0,n.UI)(e,0,100,1,3),this.animatableProperties.tx.previous=this.firstRAFCycle?this.animatableProperties.tx.current:(0,n.t7)(this.animatableProperties.tx.previous,this.animatableProperties.tx.current,this.animatableProperties.tx.amt),this.animatableProperties.ty.previous=this.firstRAFCycle?this.animatableProperties.ty.current:(0,n.t7)(this.animatableProperties.ty.previous,this.animatableProperties.ty.current,this.animatableProperties.ty.amt),this.animatableProperties.skew.previous=this.firstRAFCycle?this.animatableProperties.skew.current:(0,n.t7)(this.animatableProperties.skew.previous,this.animatableProperties.skew.current,this.animatableProperties.skew.amt),this.animatableProperties.contrast.previous=this.firstRAFCycle?this.animatableProperties.contrast.current:(0,n.t7)(this.animatableProperties.contrast.previous,this.animatableProperties.contrast.current,this.animatableProperties.contrast.amt),r.p8.set(this.DOM.reveal,{x:this.animatableProperties.tx.previous,y:this.animatableProperties.ty.previous,skewX:this.animatableProperties.skew.previous,skewY:this.animatableProperties.skew.previous/10,filter:"contrast(".concat(this.animatableProperties.contrast.previous,")")}),this.firstRAFCycle=!1,this.loopRender()}},{key:"_onPageReady",value:function(){this.initEvents()}}]),a}()},57:function(e,t,i){"use strict";function r(e){var t=0,i=0,r=document.body;return(e=e||window.event).pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+r.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+r.scrollTop+document.documentElement.scrollTop),{x:t,y:i}}i.d(t,{M:function(){return r}})}}]);